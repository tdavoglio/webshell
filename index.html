<!doctype html>
  <html>
    <head>
      <link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
      <script src="node_modules/xterm/lib/xterm.js"></script>
    </head>
    <body>

      <div id="terminal"></div>
      <script>
        var term = new Terminal()
        const initialText = 'Davo DevOps Terminal $ '
        term.open(document.getElementById('terminal'))
        term.write(initialText)

        var cmd = ""
        term.onKey((ev) => {
            var keyCode = ev.domEvent.keyCode
            
            if (keyCode === 13) {
                if (cmd == "clear") {
                    console.log("run clear")
                    term.clear()
                }
                term.writeln("")
                term.write(initialText)
                if (cmd == "whoami") {
                    term.write("root")
                    term.writeln("")
                    term.write(initialText)
                }
                cmd = ""
            } else {
                cmd = cmd + ev.key
                term.write(ev.key)
            }
        })


      </script>
    </body>
  </html>